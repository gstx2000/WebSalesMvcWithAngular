<mat-card>
  <mat-card-content>
    <div class="form-container">
      <form method="post" asp-controller="SalesRecordsController" asp-action="Create" asp-antiforgery="true" [formGroup]="salesForm" (ngSubmit)="onSubmit()">

        <mat-form-field appearance="outline">
          <mat-label for="paymentMethod">Forma de pagamento</mat-label>
          <mat-select id="paymentMethod" formControlName="paymentMethod">
            <mat-option *ngFor="let method of getPaymentMethodValues()" [value]="method">
              {{ getPaymentMethodName(method) }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="salesForm.get('paymentMethod')?.hasError('required')">Campo obrigatório</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label for="status">Status</mat-label>
          <mat-select id="status" formControlName="status">
            <mat-option *ngFor="let status of getSaleStatusValues()" [value]="status">
              {{ getSaleStatusName(status) }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label for="amount">Valor total</mat-label>
          <input matInput type="number" id="amount" formControlName="amount" placeholder="0" readonly>
          <mat-error *ngIf="salesForm.get('amount')?.hasError('required')">Campo obrigatório</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label for="seller$">Vendedor</mat-label>
          <mat-select id="sellers$" formControlName="sellerid">
            <mat-option *ngFor="let seller of sellers$ | async" [value]=seller.id>{{ seller.name }}</mat-option>
          </mat-select>
        </mat-form-field>

        <br />

        <button type="submit" [disabled]="salesForm.invalid" class="btn btn-default">Nova venda</button>
        <button class="btn btn-default" (click)="cancel()">Cancelar</button>

      </form>
    </div>
  </mat-card-content>
</mat-card>

