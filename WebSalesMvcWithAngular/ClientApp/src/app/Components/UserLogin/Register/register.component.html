<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrar</title>
</head>

<body>
  <form method="post" asp-controller="UsersController" asp-action="Create" asp-antiforgery="true" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="login-container">
      <h2>Cadastro de novo usuário</h2>
      <input type="email" formControlName="email" placeholder="E-mail" required>
      <div *ngIf="registerForm.get('email')?.errors?.required && registerForm.get('email')?.touched" class="error">Email obrigatório</div>
      <div *ngIf="registerForm.get('email')?.errors?.email && registerForm.get('email')?.touched" class="error">Email inválido</div>
      <input type="password" formControlName="password" placeholder="Senha" required>
      <div *ngIf="registerForm.get('password')?.errors?.required && registerForm.get('password')?.touched" class="error">Senha obrigatória</div>
      <div *ngIf="registerForm.get('password')?.errors?.minlength && registerForm.get('password')?.touched" class="error">A senha deve ter no mínimo 6 caracteres</div>
      <div *ngIf="registerForm.get('password')?.errors?.pattern && registerForm.get('password')?.touched" class="error">Sua senha deve conter pelo menos uma letra maiúscula, uma letra minúscula, um número e um caractere especial.</div>
      <input type="password" formControlName="confirmPassword" placeholder="Confirme a senha" required>
      <div *ngIf="registerForm.errors?.passwordMismatch" class="error">Senhas diferentes</div>
      <button [disabled]="registerForm.invalid" type="submit">Cadastrar</button>
      <button [routerLink]="['/login']">Cancelar</button>
    </div>
  </form>
</body>
